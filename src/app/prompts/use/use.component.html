<div class="p-2">


  <div class="result-container">

    <div class="result" [innerHTML]="result"></div>
  </div>

  <div class="flex flex-row gap-5">
    <div class="w-1/2 g-card">
      <form *ngIf="usePromptForms" [formGroup]="usePromptForms" (ngSubmit)="startEngine()">
        <div class="font-bold">Prompt:</div>
        <div class="whitespace-pre-wrap"> "{{preview}}"</div>

        <div class="font-bold mt-5">Variables:</div>
        <div class="flex flex-col">
          <mat-form-field *ngFor="let variable of usePromptForms.controls.variables?.controls" appearance="outline">
            <input matInput [formControl]="variable.controls.value">
          </mat-form-field>
        </div>

        <div class="flex w-full justify-center">
          <button [disabled]="!usePromptForms.touched"
                  class="rounded inline-flex items-center bg-fuchsia-800 px-2 py-1.5 text-sm font-semibold text-white shadow-sm hover:bg-fuchsia-700 focus-visible:outline focus-visible:outline-2 disabled:bg-gray-500 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
            <mat-icon>psychology</mat-icon>
            <span class="mx-1">Run It</span>
          </button>
        </div>

      </form>

    </div>


    <div class="w-1/2 border-dashed border-2 border-gray-300 rounded-md flex items-center">
      <div *ngIf="result; else noResult">
        <!--  TODO Insert chat here-->
      </div>
    </div>
  </div>


  <ng-template #noResult>
    <div class="w-full text-center text-gray-300 font-bold text-xl">Lunch the prompt to see what's append</div>
  </ng-template>
</div>
